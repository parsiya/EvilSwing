plugins {
    id 'application'
}

sourceSets {
    main {
        java {
            srcDir 'evil'
        }
    }
}

// Put the final jar file in a different location
libsDirName = '../release'

// Create a task for bundling all dependencies into a jar file.
task bigJar(type: Jar) {
    // Make an executable jar that can be executed with "java -jar"
    manifest {
        attributes(
                'Main-Class': 'evil.EvilSwing'
        )
    }
    // Bundle all dependencies together in one jar file.
    baseName = project.name
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

java {
    // Target Java 1.7 because the bundle JVM with the app is OLD!
    sourceCompatibility = JavaVersion.VERSION_1_7
    targetCompatibility = JavaVersion.VERSION_1_7
}
